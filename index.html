<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QCM JavaScript Interactif</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>üéØ QCM JavaScript Interactif</h1>
        <p style="text-align: center;">R√©pondez aux questions suivantes, puis utilisez les boutons ci-dessous</p>
        
        <hr>
        
        <button onclick="initialiserQCM()">üîÑ Initialiser le QCM</button>

        <form id="QCM">
            <div class="question">
                <h3>Question 1 : Quelle est la capitale de France ?</h3>
                <label><input type="radio" name="q1" value="a">Montpellier</label>
                <label><input type="radio" name="q1" value="b">Paris</label>
                <label><input type="radio" name="q1" value="c">Lille</label>
                <label><input type="radio" name="q1" value="d">Lyon</label>
            </div>

            <div class="question">
                <h3>Question 2 : Quelle balise HTML cr√©e un formulaire ?</h3>
                <label><input type="checkbox" name="q2" value="a">formulaire</label>
                <label><input type="checkbox" name="q2" value="b">form</label>
                <label><input type="checkbox" name="q2" value="c">input</label>
                <label><input type="checkbox" name="q2" value="d">questionnaire</label>
            </div>

            <div class="question">
                <h3>Question 3 : Que signifie HTML ?</h3>
                <label><input type="checkbox" name="q3" value="a">HyperText Markup Language</label>
                <label><input type="checkbox" name="q3" value="b">High Tech Modern Language</label>
                <label><input type="checkbox" name="q3" value="c">Home Tool Markup Language</label>
                <label><input type="checkbox" name="q3" value="d">Hyperlinks and Text Markup Language</label>
            </div>

            <div class="question">
                <h3>Question 4 : √Ä quoi sert JavaScript ?</h3>
                <label><input type="checkbox" name="q4" value="a">Cr√©er des bases de donn√©es</label>
                <label><input type="checkbox" name="q4" value="b">Rendre les pages web interactives</label>
                <label><input type="checkbox" name="q4" value="c">Cr√©er des graphiques 3D</label>
                <label><input type="checkbox" name="q4" value="d">G√©rer les styles CSS</label>
            </div>

            <div class="question">
                <h3>Question 5 : Quelle est la capitale du Maroc ?</h3>
                <label><input type="radio" name="q5" value="a">Rabat</label>
                <label><input type="radio" name="q5" value="b">Marrakech</label>
                <label><input type="radio" name="q5" value="c">F√®s</label>
                <label><input type="radio" name="q5" value="d">Casablanca</label>
            </div>
        </form>

        <hr>

        <button onclick="afficherReponses()">‚úÖ Afficher les r√©ponses</button>
        <button onclick="afficherResultat()">üìä Afficher le r√©sultat</button>
    </div>

    <script>
        const Correction = {
            q1: ['b'],
            q2: ['b'],
            q3: ['a'],
            q4: ['b'],
            q5: ['a']
        };

        function initialiserQCM() {
            document.getElementById("QCM").reset();
        }

        function getReponsesUtilisateur() {
            const reponses = {};
            for (let i = 1; i <= 5; i++) {
                const elements = document.getElementsByName("q" + i);
                reponses["q" + i] = [];
                for (let el of elements) {
                    if (el.checked) reponses["q" + i].push(el.value);
                }
            }
            return reponses;
        }

        function afficherReponses() {
            let contenu = "<h2>Corrig√© du QCM</h2>";
            contenu += "<ol>";
            contenu += "<li>Quelle est la capitale de France ?<br>‚û° <u style='color:green'>Paris</u></li><br>";
            contenu += "<li>Quelle balise HTML cr√©e un formulaire ?<br>‚û° <u style='color:green'>form</u></li><br>";
            contenu += "<li>Que signifie HTML ?<br>‚û° <u style='color:green'>HyperText Markup Language</u></li><br>";
            contenu += "<li>√Ä quoi sert JavaScript ?<br>‚û° <u style='color:green'>Rendre les pages web interactives</u></li><br>";
            contenu += "<li>Quelle est la capitale du Maroc ?<br>‚û° <u style='color:green'>Rabat</u></li>";
            contenu += "</ol>";

            const fenetre = window.open("", "Correction", "width=600,height=400,scrollbars=yes");
            fenetre.document.write(contenu);
        }

        function afficherResultat() {
            const userReponses = getReponsesUtilisateur();
            let score = 0;
            let contenu = "<h2>R√©sultat du test</h2><ul>";
            
            for (let i = 1; i <= 5; i++) {
                const correct = Correction["q" + i];
                const user = userReponses["q" + i];
                const estCorrect = JSON.stringify(correct.sort()) === JSON.stringify(user.sort());
                
                if (estCorrect) score++;
                
                contenu += `<li>Question ${i} : <b>${estCorrect ? "‚úÖ correcte" : "‚ùå incorrecte"}</b></li>`;
            }
            
            contenu += "</ul>";
            contenu += `<h3>Score final : ${score}/5</h3>`;
            
            const fenetre = window.open("", "R√©sultat", "width=400,height=350");
            fenetre.document.write(contenu);
        }
    </script>
</body>
</html>
